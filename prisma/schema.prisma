generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  //url = "postgres://postgres:postgrespw@localhost:49153"
}

model User {
  id       Int       @id @default(autoincrement())
  name     String
  email    String    @unique
  cpf      String    @unique
  password String
  coletor  Coletor?
  produtor Produtor?
}

model Coletor {
  id     Int  @id @default(autoincrement())
  user   User @relation(fields: [userId], references: [id])
  userId Int  @unique
  // User User[]
  // corridaId Int?
  // Veiculo   Veiculo?  @relation(fields: [veiculoId], references: [id])
  // veiculoId Int?
  // Corrida   Corrida[]
  // Corrida   Corrida[]
  // Veiculo   Veiculo?  @relation(fields: [veiculoId], references: [id])
  // veiculoId Int?
}

model Produtor {
  id     Int    @id @default(autoincrement())
  local  Local?
  user   User   @relation(fields: [userId], references: [id])
  userId Int    @unique
  // // Veiculo   Veiculo?  @relation(fields: [veiculoId], references: [id])
  // veiculoId Int?
  // corridaId Int?
  // Corrida   Corrida[]
  // local Local?

  // User User[]
}

model Local {
  id         Int      @id @default(autoincrement())
  tipoLixo   String
  latitude   Float
  longitude  Float
  produtor   Produtor @relation(fields: [produtorId], references: [id])
  produtorId Int      @unique
}

// model Corrida {
//   id Int @id @default(autoincrement())
//   // horario    String
//   // rota       String
//   // coletor    Coletor? @relation(fields: [coletorId], references: [id])
//   // produtorId Int
//   // coletorId  Int
//   //  Produtor   Produtor? @relation(fields: [produtorId], references: [id])
// }

// model Veiculo {
//   id Int @id @default(autoincrement())
//   // modelo         String
//   // placa          String
//   // numeroRegistro String
//   // donoVeiculo    Coletor[]
//   //Produtor       Produtor[]
// }
